{
  "manifest": {
    "name": "@symfony/stimulus-bridge",
    "description": "Stimulus integration bridge for Symfony projects",
    "version": "3.2.2",
    "main": "dist/index.js",
    "types": "dist/index.d.ts",
    "license": "MIT",
    "author": {
      "name": "Titouan Galopin",
      "email": "galopintitouan@gmail.com"
    },
    "engines": {
      "node": "^10.13.0 || >=12.0.0"
    },
    "scripts": {
      "build": "yarn rollup -c",
      "build-types": "yarn tsc",
      "test": "yarn run webpack --config test/webpack.config.js && yarn run jest",
      "lint": "yarn run eslint src test",
      "format": "prettier src/*.ts test/*.js --write",
      "check-lint": "yarn lint --no-fix",
      "check-format": "yarn format --no-write --check"
    },
    "peerDependencies": {
      "@hotwired/stimulus": "^3.0"
    },
    "dependencies": {
      "@hotwired/stimulus-webpack-helpers": "^1.0.1",
      "@types/webpack-env": "^1.16.4",
      "acorn": "^8.0.5",
      "loader-utils": "^2.0.0",
      "schema-utils": "^3.0.0"
    },
    "devDependencies": {
      "@babel/core": "^7.15.8",
      "@babel/preset-env": "^7.15.8",
      "@babel/preset-typescript": "^7.15.0",
      "@hotwired/stimulus": "^3.0",
      "@rollup/plugin-commonjs": "^21.0.1",
      "@rollup/plugin-node-resolve": "^13.0.0",
      "@rollup/plugin-typescript": "^8.3.0",
      "@symfony/mock-module": "file:.cache/yarn/v6/npm-@symfony-stimulus-bridge-3.2.2-afc1918f82d78cb2b6e299285c54094aa7f53696-integrity/node_modules/@symfony/stimulus-bridge/test/fixtures/module",
      "@symfony/stimulus-testing": "^2.0.0",
      "@typescript-eslint/eslint-plugin": "^5.2.0",
      "@typescript-eslint/parser": "^5.2.0",
      "babel-jest": "^27.3.1",
      "eslint": "^8.1.0",
      "eslint-config-prettier": "^8.0.0",
      "eslint-plugin-jest": "^25.2.2",
      "jest": "^27.3.1",
      "prettier": "^2.2.1",
      "rollup": "^2.52.2",
      "tslib": "^2.3.1",
      "typescript": "^4.4.4",
      "webpack": "^5.11.1",
      "webpack-cli": "^4.3.0"
    },
    "eslintConfig": {
      "root": true,
      "parser": "@typescript-eslint/parser",
      "plugins": [
        "@typescript-eslint"
      ],
      "extends": [
        "eslint:recommended",
        "prettier",
        "plugin:@typescript-eslint/eslint-recommended",
        "plugin:@typescript-eslint/recommended"
      ],
      "ignorePatterns": [
        "test/dist/**",
        "test/fixtures/**",
        "test/webpack.config.js"
      ],
      "rules": {
        "@typescript-eslint/no-explicit-any": "off",
        "@typescript-eslint/ban-ts-comment": "off"
      },
      "env": {
        "browser": true
      },
      "overrides": [
        {
          "files": [
            "test/**/*.ts"
          ],
          "extends": [
            "plugin:jest/recommended"
          ]
        }
      ]
    },
    "files": [
      "src/",
      "dist/",
      "controllers.json",
      "lazy-controller-loader.js"
    ],
    "_registry": "npm",
    "_loc": "/app/.cache/yarn/v6/npm-@symfony-stimulus-bridge-3.2.2-afc1918f82d78cb2b6e299285c54094aa7f53696-integrity/node_modules/@symfony/stimulus-bridge/package.json",
    "readmeFilename": "README.md",
    "readme": "# Symfony UX Stimulus bridge\n\nThe Stimulus bridge integrates [Stimulus](https://stimulus.hotwired.dev/)\ninto your Symfony app by automatically loading both third-party controllers\nand your own custom controllers. It works by reading a `controllers.json`\nfile that describes your third-party controllers. This file is updated\nautomatically when you install [Symfony UX Packages](https://github.com/symfony/ux).\n\nBefore you start, familiarize yourself with the basics of\n[Stimulus](https://stimulus.hotwired.dev/).\n\n## Installation\n\nIf you don't already have Webpack Encore installed, install it with:\n\n```\ncomposer require encore\n```\n\nIf you didn't already have Webpack Encore installed, this should execute a\nSymfony Flex recipe that will set up everything for you. Finish by\nrunning Encore:\n\n```sh\nyarn encore dev --watch\n```\n\nIf you already had Encore installed (and so the recipe did not run), you\ncan always install things manually.\n\n## Manual Installation\n\nThe Webpack Encore recipe usually handles setting up everything you need.\nBut you can also do it manually. First, install the bridge:\n\n```sh\nyarn add @symfony/stimulus-bridge @hotwired/stimulus --dev\n```\n\nNext, create an `assets/controllers.json` file: Flex will update\nthis whenever you install a UX package:\n\n```json\n{\n    \"controllers\": [],\n    \"entrypoints\": []\n}\n```\n\nNow, enable the Stimulus Bridge in Webpack Encore:\n\n```javascript\n// webpack.config.js\n\n// Provide the location of your controllers.json file\nEncore.enableStimulusBridge('./assets/controllers.json');\n```\n\nFinally, use the package in your JavaScript code. This will register\nany controllers defined in `controllers.json` (these are added\nautomatically when installing UX packages) and any controllers that\nyou add in `assets/controllers/`:\n\n```javascript\n// assets/app.js\n// (or assets/bootstrap.js - and then import it from app.js)\n\nimport { startStimulusApp } from '@symfony/stimulus-bridge';\n\nexport const app = startStimulusApp(require.context(\n    '@symfony/stimulus-bridge/lazy-controller-loader!./controllers',\n    true,\n    /\\.(j|t)sx?$/\n));\n```\n\nThat's it! Now run Encore:\n\n```sh\nyarn encore watch\n```\n\n## Usage: Installing UX Packages\n\nOnce the bridge is installed and enabled, you can use any of the\n[Symfony UX Packages](https://github.com/symfony/ux). After installing\neach one, Symfony Flex will update your `assets/controllers.json` file.\nThat will cause this bridge to automatically import and register that\ncontroller so that you can use it *immediately* without any configuration.\n\n## Usage: Creating Custom Controllers\n\nYou'll also want to create your own custom controllers. The bridge\nautomatically registers any controllers that live in the `assets/controllers/`.\n\nLet's see an example: create a new `assets/controllers/hello_controller.js`\nfile (you may already have this):\n\n```\nimport { Controller } from '@hotwired/stimulus';\n\nexport default class extends Controller {\n    connect() {\n        this.element.textContent = 'Hello Stimulus! Edit me in assets/controllers/hello_controller.js';\n    }\n}\n```\n\nBecause this file is called `hello_controller.js`, it will register a controller\nnamed (`hello`). This follows the standard Stimulus naming conventions. Thanks\nto this, in any template, you can now add an element that uses this:\n\n```twig\n# templates/anything/any_template.html.twig\n\n<div data-controller=\"hello\"></div>\n```\n\nTry it! When you refresh the page, your controller will be executed and\nthe source will update to:\n\n```html\n<div data-controller=\"hello\">\n    Hello Stimulus! Edit me in assets/controllers/hello_controller.js    \n</div>\n```\n\nIf the controller lives in a subdirectory - like `assets/controllers/blog/post/author_controller.js` -\nthe name will include `--` in place of each `/`:\n\n```html\n<div data-controller=\"blog--post--author\">\n    <div data-blog--post--author-target=\"author\">...</div>\n</div>\n```\n\nSee the [Stimulus Docs](https://stimulus.hotwired.dev/handbook/introduction)\nfor what else Stimulus can do!\n\n## Common Errors\n\nIf you get this error:\n\n> ./assets/bootstrap.js contains a reference to the file @symfony/autoimport.\n> This file can not be found.\n\nRemove the following line in the mentioned file: it's not needed anymore:\n\n```diff\n// assets/bootstrap.js\n\n// ...\n- import '@symfony/autoimport';\n```\n\nIf you get the error:\n\n> Cannot find module '@symfony/stimulus-bridge/webpack-helper'\n\nBe sure to upgrade to `@symfony/webpack-encore` version 1.0.0 or higher.\n\n## The controllers.json File\n\nThe bridge works by reading a `controllers.json` file that is automatically\nupdated by Symfony Flex whenever you download a UX-powered package. For\nexample, after running `composer require symfony/ux-dropzone`, it will\nlook like this:\n\n```json\n{\n    \"controllers\": {\n        \"@symfony/ux-dropzone\": {\n            \"dropzone\": {\n                \"enabled\": true,\n                \"fetch\": \"eager\",\n                \"autoimport\": {\n                    \"@symfony/ux-dropzone/src/style.css\": true\n                }\n            }\n        }\n    },\n    \"entrypoints\": []\n}\n```\n\nEach item under `controllers` will cause a Stimulus controller to be\nregistered with a specific name - in this case the controller would\nbe called `symfony--ux-dropzone--dropzone` (the `/` becomes `--`).\n\nBy default, the new controller will always be included in your\nJavaScript package. You can control that with the `fetch` option,\nordered from least to most lazy:\n\n* `fetch: 'eager'`: controller & dependencies are included in the JavaScript\n  that's downloaded when the page is loaded.\n* `fetch: 'lazy'`: controller & dependencies are isolated into a\n  separate file and only downloaded asynchronously if (and when) the `data-controller`\n  HTML appears on the page.\n\n## Lazy Controllers\n\n**NOTE**: When using lazy controllers, you may notice in your browser's console that\nyour controller appears to be initialized and connected *twice*. But actually, the\nfirst initialize and connect are just a result of an internal controller setting\nup your real controller.\n\nYou can also make your own controllers \"lazy\": giving them the same behavior\nas the `lazy-controller` explained above. In this case, your controller isn't\ndownloaded until an element for that controller first appears on the page.\n\nTo activate this, first make sure that you're using the special loader -\n`@symfony/stimulus-bridge/lazy-controller-loader` - when loading your controllers:\n\n```js\n// assets/bootstrap.js\n\nexport const app = startStimulusApp(require.context(\n    '@symfony/stimulus-bridge/lazy-controller-loader!./controllers',\n    true,\n    /\\.(j|t)sx?$/\n));\n```\n\nNext, you can make any controllers lazy by adding a `/* stimulusFetch: 'lazy' */`\ncomment above that controller:\n\n```js\nimport { Controller } from '@hotwired/stimulus';\n\n/* stimulusFetch: 'lazy' */\nexport default class extends Controller {\n    // ...\n}\n```\n\n### Advanced Lazy Controllers\n\nSometimes you may want to use a third-party controller and make it lazy.\nUnfortunately, you can't edit that controller's source code to add\nthe `/* stimulusFetch: 'lazy' */`.\n\nTo handle this, you can use the `lazy-controller-loader` with some\ncustom query options.\n\n```js\n// assets/bootstrap.js\n\nimport { startStimulusApp } from '@symfony/stimulus-bridge';\n\n// example from https://stimulus-components.netlify.app/docs/components/stimulus-clipboard/\n// normal, non-lazy import\n//import Clipboard from 'stimulus-clipboard';\n// lazy import\nimport Clipboard from '@symfony/stimulus-bridge/lazy-controller-loader?lazy=true!stimulus-clipboard';\n\n// example from https://github.com/afcapel/stimulus-autocomplete\n// normal, non-lazy import\n//import { Autocomplete } from 'stimulus-autocomplete';\n// lazy import - it includes export=Autocomplete to handle the named export\nimport { Autocomplete } from '@symfony/stimulus-bridge/lazy-controller-loader?lazy=true&export=Autocomplete!stimulus-autocomplete';\n\nconst app = startStimulusApp(require.context(\n    // your existing code to load from controllers/\n));\n\n// the normal way to manually register controllers\napp.register('clipboard', Clipboard);\napp.register('autocomplete', Autocomplete);\n\nexport { app };\n```\n\n## Writing TypeScript controllers\n\nIf you want to write TypeScript controllers, make sure the target of your TypeScript config is set to `ES6`:\n\n```json\n{\n    \"compilerOptions\": {\n        //...\n        \"target\": \"ES6\",\n    },\n    //...\n}\n```\n\nIf you don't you may face the following issue in your browser console when the controller is called:\n\n```\n# Error thrown in Chrome console:\nUncaught (in promise) TypeError: Class constructor Controller cannot be invoked without 'new'\n\n# Error thrown in Firefox console:\nUncaught (in promise) TypeError: class constructors must be invoked with 'new'\n```\n\nThe error is caused when an ES5 class tries to \"extend\" an ES6 class. If the target is not correctly set, \nTypeScript will transpile the controller to old ES5 code. But Stimulus 3 uses pure ES6 classes. \nThis causes an incompatibility, hence the need to target ES6 explicitly.\n\n## Run tests\n\n```sh\nyarn test\n```\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/@symfony/stimulus-bridge/-/stimulus-bridge-3.2.2.tgz#afc1918f82d78cb2b6e299285c54094aa7f53696",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/@symfony/stimulus-bridge/-/stimulus-bridge-3.2.2.tgz",
    "hash": "afc1918f82d78cb2b6e299285c54094aa7f53696",
    "integrity": "sha512-kIaUEGPXW7g14zsHkIvQWw8cmfCdXSqsEQx18fuHPBb+R0h8nYPyY+e9uVtTuHlE2wHwAjrJoc6YBBK4a7CpKA==",
    "registry": "npm",
    "packageName": "@symfony/stimulus-bridge",
    "cacheIntegrity": "sha512-kIaUEGPXW7g14zsHkIvQWw8cmfCdXSqsEQx18fuHPBb+R0h8nYPyY+e9uVtTuHlE2wHwAjrJoc6YBBK4a7CpKA== sha1-r8GRj4LXjLK24pkoXFQJSqf1NpY="
  },
  "registry": "npm",
  "hash": "afc1918f82d78cb2b6e299285c54094aa7f53696"
}